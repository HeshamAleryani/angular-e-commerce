<div class="wrapper">
  <nav id="sidebar">
    <ul class="list-unstyled components">
      <p>Filter</p>
      <li class="active">
        <a
          href="#homeSubmenu"
          data-toggle="collapse"
          aria-expanded="false"
          class="dropdown-toggle"
          >Categories</a
        >
        <ul class="collapse list-unstyled" id="homeSubmenu">
          <li>
            <a href="#"><li (click)="filterCategory('')">All</li></a>
          </li>
          <li>
            <a href="#">
              <li (click)="filterCategory('fashion')">Fashion</li>
            </a>
          </li>
          <li>
            <a href="#">
              <li (click)="filterCategory('electronics')">Electronics</li>
            </a>
          </li>
          <li>
            <a href="#">
              <li (click)="filterCategory('jewelery')">Jewelery</li>
            </a>
          </li>
        </ul>
      </li>

      <li>
        <a
          href="#pageSubmenu"
          data-toggle="collapse"
          aria-expanded="false"
          class="dropdown-toggle"
          >Price</a
        >
        <ul class="collapse list-unstyled" id="pageSubmenu">
          <li>
            <a href="#"
              ><div class="body">
                <app-range-slider
                  (onChange)="filterPrice($event)"
                ></app-range-slider></div
            ></a>
          </li>
        </ul>
      </li>
    </ul>
  </nav>

  <div class="content container-card">
    <div *ngIf="filteredProducts.length > 0">
      <div class="container-body">
        <ng-container
          *ngFor="
            let item of filteredProducts
              | filter: searchKey:'title'
              | paginate: { itemsPerPage: 8, currentPage: p }
          "
        >
          <div class="ui card">
            <a [routerLink]="item.link" [state]="{ product: item }">
              <img src="{{ item.image }}" alt="{{ item.title }}" />
            </a>
            <h5
              style="
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
                max-width: 100ch;
              "
            >
              {{ item.title }}
            </h5>
            <p
              style="
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
                max-width: 100ch;
              "
            >
              {{ item.description }}
            </p>
            <p><strong>Price:</strong> ${{ item.price }}</p>
            <button
              (click)="showToatr()"
              (click)="addToCart(item)"
              class="ui inverted grey button"
              style="color: black"
            >
              Add to cart
            </button>
          </div>
        </ng-container>
      </div>
      <pagination-controls
        style="
          margin: 10px;
          padding: 10px;
          display: flex;
          justify-content: center;
        "
        (pageChange)="p = $event"
      ></pagination-controls>
    </div>

    <div class="no-product-container" *ngIf="filteredProducts.length === 0">
      <h1>Sorry<span class="gold">!</span></h1>
      <h4 class="gold">No Products <span class="black">found</span></h4>
      <img src="../../../assets/Capture.PNG" />
    </div>
  </div>
</div>
